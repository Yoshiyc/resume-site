import"../chunks/CWj6FrbW.js";import"../chunks/CyICmP6G.js";import{p as Pt,l as st,a as Wt,g as c,f as Et,b as v,d as Ft,j as n,s as y,m as P,e as M,n as t,u as i,i as o,r as e,t as u,k as et,q as ot,v as vt}from"../chunks/B1QzbS-Z.js";import{s as h,e as Gt}from"../chunks/Dq_TzkNB.js";import{p as it,i as p}from"../chunks/C7W3VNac.js";import{e as lt,i as dt}from"../chunks/C9On_rf4.js";import{a as Jt,e as Kt}from"../chunks/RK7ZOHRT.js";import{r as Nt,s as V,a as Qt}from"../chunks/DUrMfR5j.js";import{i as Rt}from"../chunks/Btm7-lYI.js";var Ut=c('<div class="mb-6 p-4 bg-green-50 border border-green-200 rounded-lg"><div class="flex items-center"><svg class="w-5 h-5 text-green-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> <p class="text-green-800"> </p></div></div>'),Xt=c('<div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg"><div class="flex items-center"><svg class="w-5 h-5 text-red-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-red-800"> </p></div></div>'),Yt=c('<img class="h-12 w-12 rounded-lg object-cover"/>'),Zt=c('<div class="h-12 w-12 rounded-lg bg-gray-100 flex items-center justify-center"><svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"></path></svg></div>'),$t=c('<div class="text-xs text-gray-500"> </div>'),ta=c('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">目前職位</span>'),aa=c('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">已離職</span>'),ra=c('<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800"> </span>'),sa=c('<span class="text-xs text-gray-500"> </span>'),ea=c('<a target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-900" title="查看公司網站" aria-label="查看公司網站"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a>'),oa=vt('<svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),ia=vt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>'),la=c('<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap"><div class="flex items-center"><div class="flex-shrink-0 h-12 w-12"><!></div> <div class="ml-4"><div class="text-sm font-medium text-gray-900"> </div> <div class="text-sm text-gray-600"> </div> <!></div></div></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"><div> <!></div></td><td class="px-6 py-4 whitespace-nowrap"><!></td><td class="px-6 py-4"><div class="flex flex-wrap gap-1 max-w-xs"><!> <!></div></td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><div class="flex items-center justify-end space-x-2"><!> <a class="text-indigo-600 hover:text-indigo-900" title="編輯經歷" aria-label="編輯經歷"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></a> <form method="POST" action="?/delete" class="inline"><input type="hidden" name="id"/> <button type="submit" class="text-red-600 hover:text-red-900 disabled:opacity-50" title="刪除經歷"><!></button></form></div></td></tr>'),da=c('<div class="bg-white rounded-lg shadow overflow-hidden"><div class="px-6 py-4 border-b border-gray-200"><h3 class="text-lg font-medium text-gray-900"> </h3></div> <div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">公司 / 職位</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">期間</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">狀態</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">技術</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div></div>'),va=c('<div class="text-center py-12"><div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6"><svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"></path></svg></div> <h3 class="text-xl font-semibold text-gray-900 mb-2">還沒有工作經歷</h3> <p class="text-gray-600 mb-6">開始新增您的第一個工作經歷吧！</p> <a href="/admin/experiences/new" class="btn-primary">新增經歷</a></div>'),na=c('<!> <!> <div class="flex justify-between items-center mb-8"><div><h1 class="text-2xl font-bold text-gray-900">經歷管理</h1> <p class="text-gray-600 mt-1">管理您的工作經歷和職業發展</p></div> <a href="/admin/experiences/new" class="btn-primary flex items-center"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> 新增經歷</a></div> <!>',1);function ya(nt,B){Pt(B,!1);const x=P();let W=it(B,"data",8),g=it(B,"form",8),w=P(!1),b=P(null);function ct(l,d,m){return confirm(`確定要刪除「${l} - ${d}」的工作經歷嗎？此操作無法復原。`)?!0:(m.preventDefault(),!1)}function mt(l){return async({result:d,update:m})=>{y(b,null),d.type==="success"&&(y(w,!0),setTimeout(()=>{y(w,!1)},3e3)),await m()}}function E(l){return new Date(l).toLocaleDateString("zh-TW",{year:"numeric",month:"short"})}st(()=>(t(x),M(W())),()=>{(l=>{y(x,l.experiences)})(W())}),st(()=>M(g()),()=>{var l;(l=g())!=null&&l.success&&(y(w,!0),setTimeout(()=>{y(w,!1)},3e3))}),Wt(),Rt();var F=na(),G=Et(F);{var ft=l=>{var d=Ut(),m=o(d),_=n(o(m),2),k=o(_,!0);e(_),e(m),e(d),u(()=>h(k,(M(g()),i(()=>{var j;return((j=g())==null?void 0:j.message)||"操作成功！"})))),v(l,d)};p(G,l=>{t(w)&&l(ft)})}var J=n(G,2);{var ut=l=>{var d=Xt(),m=o(d),_=n(o(m),2),k=o(_,!0);e(_),e(m),e(d),u(()=>h(k,(M(g()),i(()=>g().error)))),v(l,d)};p(J,l=>{M(g()),i(()=>{var d;return(d=g())==null?void 0:d.error})&&l(ut)})}var ht=n(J,4);{var pt=l=>{var d=da(),m=o(d),_=o(m),k=o(_);e(_),e(m);var j=n(m,2),K=o(j),N=n(o(K));lt(N,5,()=>t(x),dt,(_t,r)=>{var H=la(),D=o(H),Q=o(D),z=o(Q),xt=o(z);{var yt=a=>{var s=Yt();u(()=>{V(s,"src",(t(r),i(()=>t(r).company_logo_url))),V(s,"alt",(t(r),i(()=>t(r).company)))}),v(a,s)},wt=a=>{var s=Zt();v(a,s)};p(xt,a=>{t(r),i(()=>t(r).company_logo_url)?a(yt):a(wt,!1)})}e(z);var R=n(z,2),L=o(R),bt=o(L,!0);e(L);var A=n(L,2),kt=o(A,!0);e(A);var jt=n(A,2);{var Mt=a=>{var s=$t(),f=o(s,!0);e(s),u(()=>h(f,(t(r),i(()=>t(r).location)))),v(a,s)};p(jt,a=>{t(r),i(()=>t(r).location)&&a(Mt)})}e(R),e(Q),e(D);var T=n(D),U=o(T),X=o(U),Ct=n(X);{var Vt=a=>{var s=ot();u(f=>h(s,`- ${f??""}`),[()=>(t(r),i(()=>E(t(r).end_date)))],et),v(a,s)},Bt=a=>{var s=ot("- 至今");v(a,s)};p(Ct,a=>{t(r),i(()=>t(r).end_date)?a(Vt):a(Bt,!1)})}e(U),e(T);var S=n(T),Ht=o(S);{var Dt=a=>{var s=ta();v(a,s)},zt=a=>{var s=aa();v(a,s)};p(Ht,a=>{t(r),i(()=>t(r).is_current)?a(Dt):a(zt,!1)})}e(S);var q=n(S),Y=o(q),Z=o(Y);lt(Z,1,()=>(t(r),i(()=>(t(r).technologies||[]).slice(0,3))),dt,(a,s)=>{var f=ra(),Ot=o(f,!0);e(f),u(()=>h(Ot,t(s))),v(a,f)});var Lt=n(Z,2);{var At=a=>{var s=sa(),f=o(s);e(s),u(()=>h(f,`+${t(r),i(()=>(t(r).technologies||[]).length-3)??""} 更多`)),v(a,s)};p(Lt,a=>{t(r),i(()=>(t(r).technologies||[]).length>3)&&a(At)})}e(Y),e(q);var $=n(q),tt=o($),at=o(tt);{var Tt=a=>{var s=ea();u(()=>V(s,"href",(t(r),i(()=>t(r).company_url)))),v(a,s)};p(at,a=>{t(r),i(()=>t(r).company_url)&&a(Tt)})}var rt=n(at,2),I=n(rt,2),O=o(I);Nt(O);var C=n(O,2),St=o(C);{var qt=a=>{var s=oa();v(a,s)},It=a=>{var s=ia();v(a,s)};p(St,a=>{t(b),t(r),i(()=>t(b)===t(r).id)?a(qt):a(It,!1)})}e(C),e(I),Jt(I,(a,s)=>{var f;return(f=Kt)==null?void 0:f(a,s)},()=>()=>mt(t(r).id)),e(tt),e($),e(H),u(a=>{h(bt,(t(r),i(()=>t(r).company))),h(kt,(t(r),i(()=>t(r).position))),h(X,`${a??""} `),V(rt,"href",`/admin/experiences/${t(r),i(()=>t(r).id)??""}/edit`),Qt(O,(t(r),i(()=>t(r).id))),C.disabled=(t(b),t(r),i(()=>t(b)===t(r).id))},[()=>(t(r),i(()=>E(t(r).start_date)))],et),Gt("click",C,a=>ct(t(r).company,t(r).position,a)),v(_t,H)}),e(N),e(K),e(j),e(d),u(()=>h(k,`所有工作經歷 (${t(x),i(()=>t(x).length)??""})`)),v(l,d)},gt=l=>{var d=va();v(l,d)};p(ht,l=>{t(x),i(()=>t(x).length>0)?l(pt):l(gt,!1)})}v(nt,F),Ft()}export{ya as component};
