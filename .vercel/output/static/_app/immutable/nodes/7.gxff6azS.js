import"../chunks/CWj6FrbW.js";import"../chunks/CyICmP6G.js";import{p as ve,l as le,a as de,g as p,h as ne,j as v,f as me,b as c,d as ce,$ as pe,s as L,m as I,e as g,n as t,u as o,i as a,r,t as k,k as he}from"../chunks/B1QzbS-Z.js";import{s as _,e as fe}from"../chunks/Dq_TzkNB.js";import{p as J,i as w}from"../chunks/C7W3VNac.js";import{e as xe,i as _e}from"../chunks/C9On_rf4.js";import{a as ue,e as ge}from"../chunks/Ks_EKFJL.js";import{r as ke,s as we,a as be}from"../chunks/DUrMfR5j.js";import{i as ye}from"../chunks/Btm7-lYI.js";var je=p('<div class="mb-6 bg-green-50 border border-green-200 rounded-md p-4"><div class="flex"><svg class="h-5 w-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div class="ml-3"><p class="text-sm text-green-800"> </p></div></div></div>'),Me=p('<div class="mb-6 bg-red-50 border border-red-200 rounded-md p-4"><div class="flex"><svg class="h-5 w-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div class="ml-3"><p class="text-sm text-red-800"> </p></div></div></div>'),Be=p('<p class="text-sm text-gray-600"> </p>'),Ce=p('<div class="mt-2"><p class="text-sm text-gray-700 line-clamp-2"> </p></div>'),ze=p('<li><div class="px-4 py-4 sm:px-6"><div class="flex items-center justify-between"><div class="flex-1"><div class="flex items-center justify-between"><h3 class="text-lg font-medium text-gray-900"> </h3> <div class="flex space-x-2"><a class="text-blue-600 hover:text-blue-800 transition-colors" title="編輯學歷" aria-label="編輯學歷"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></a> <form method="POST" action="?/delete" class="inline"><input type="hidden" name="id"/> <button type="submit" class="text-red-600 hover:text-red-800 transition-colors" title="刪除學歷" aria-label="刪除學歷"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></form></div></div> <div class="mt-2"><p class="text-sm text-blue-600 font-medium"> </p> <!></div> <div class="mt-2 flex items-center text-sm text-gray-500"><svg class="flex-shrink-0 mr-1.5 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 0V6a2 2 0 012-2h4a2 2 0 012 2v1m-6 0h8m-8 0H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2"></path></svg> <span> </span></div> <!></div></div></div></li>'),He=p('<div class="bg-white shadow overflow-hidden sm:rounded-md"><ul class="divide-y divide-gray-200"></ul></div>'),De=p('<div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5z M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">暫無學歷資料</h3> <p class="mt-1 text-sm text-gray-500">開始新增您的第一筆學歷資料</p> <div class="mt-6"><a href="/admin/educations/new" class="btn-primary"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> 新增學歷</a></div></div>'),Le=p('<div class="mb-8"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900">學歷管理</h1> <p class="mt-1 text-sm text-gray-600">管理您的教育背景資訊</p></div> <a href="/admin/educations/new" class="btn-primary"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> 新增學歷</a></div></div> <!> <!> <!>',1);function Ee(K,b){ve(b,!1);const u=I();let V=J(b,"data",8),n=J(b,"form",8),y=I(!1);function A(s){return new Date(s).toLocaleDateString("zh-TW",{year:"numeric",month:"long"})}function N(){return L(y,!0),async({update:s})=>{L(y,!1),await s()}}le(()=>(t(u),g(V())),()=>{(s=>{L(u,s.educations)})(V())}),de(),ye();var S=Le();ne(s=>{pe.title="學歷管理 - 管理後台"});var T=v(me(S),2);{var Q=s=>{var i=je(),m=a(i),h=v(a(m),2),e=a(h),f=a(e,!0);r(e),r(h),r(m),r(i),k(()=>_(f,(g(n()),o(()=>n().message)))),c(s,i)};w(T,s=>{g(n()),o(()=>{var i;return(i=n())==null?void 0:i.success})&&s(Q)})}var q=v(T,2);{var R=s=>{var i=Me(),m=a(i),h=v(a(m),2),e=a(h),f=a(e,!0);r(e),r(h),r(m),r(i),k(()=>_(f,(g(n()),o(()=>n().error)))),c(s,i)};w(q,s=>{g(n()),o(()=>{var i;return(i=n())==null?void 0:i.error})&&s(R)})}var U=v(q,2);{var X=s=>{var i=He(),m=a(i);xe(m,5,()=>t(u),_e,(h,e)=>{var f=ze(),O=a(f),P=a(O),W=a(P),j=a(W),M=a(j),Z=a(M,!0);r(M);var $=v(M,2),E=a($),B=v(E,2),C=a(B);ke(C);var F=v(C,2);r(B),ue(B,(l,d)=>{var x;return(x=ge)==null?void 0:x(l,d)},()=>N),r($),r(j);var z=v(j,2),H=a(z),ee=a(H,!0);r(H);var te=v(H,2);{var re=l=>{var d=Be(),x=a(d,!0);r(d),k(()=>_(x,(t(e),o(()=>t(e).department)))),c(l,d)};w(te,l=>{t(e),o(()=>t(e).department)&&l(re)})}r(z);var D=v(z,2),G=v(a(D),2),ae=a(G);r(G),r(D);var se=v(D,2);{var ie=l=>{var d=Ce(),x=a(d),oe=a(x,!0);r(x),r(d),k(()=>_(oe,(t(e),o(()=>t(e).description)))),c(l,d)};w(se,l=>{t(e),o(()=>t(e).description)&&l(ie)})}r(W),r(P),r(O),r(f),k((l,d)=>{_(Z,(t(e),o(()=>t(e).degree))),we(E,"href",`/admin/educations/${t(e),o(()=>t(e).id)??""}/edit`),be(C,(t(e),o(()=>t(e).id))),F.disabled=t(y),_(ee,(t(e),o(()=>t(e).school))),_(ae,`${l??""} - 
                    ${d??""}`)},[()=>(t(e),o(()=>A(t(e).start_date))),()=>(t(e),o(()=>t(e).end_date?A(t(e).end_date):"至今"))],he),fe("click",F,()=>confirm("確定要刪除這筆學歷嗎？")),c(h,f)}),r(m),r(i),c(s,i)},Y=s=>{var i=De();c(s,i)};w(U,s=>{t(u),o(()=>t(u).length>0)?s(X):s(Y,!1)})}c(K,S),ce()}export{Ee as component};
