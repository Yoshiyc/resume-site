import"../chunks/CWj6FrbW.js";import"../chunks/CyICmP6G.js";import{p as Ge,g as p,j as l,f as Oe,i,z as Pe,t as v,b as u,d as Ve,k as Ie,u as d,e as c,n as o,m as ge,r as n,o as _,s as $,v as be,A as C}from"../chunks/B1QzbS-Z.js";import{r as Je,e as Ke,s as g}from"../chunks/Dq_TzkNB.js";import{p as Ne,i as m}from"../chunks/C7W3VNac.js";import{a as Qe,e as We}from"../chunks/Ks_EKFJL.js";import{a as b,b as y,c as Xe,r as f}from"../chunks/DUrMfR5j.js";import{s as S}from"../chunks/4EBnTZ0z.js";import{i as Ye}from"../chunks/Btm7-lYI.js";var Ze=p('<details class="mt-2"><summary class="text-red-600 text-sm cursor-pointer hover:text-red-800">顯示技術詳情</summary> <div class="mt-2 p-3 bg-red-100 rounded text-red-700 text-sm font-mono"> </div></details>'),De=p('<div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg"><div class="flex items-start"><svg class="w-5 h-5 text-red-400 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div class="flex-1"><p class="text-red-800 font-medium"> </p> <!> <div class="mt-3 text-red-700 text-sm"><p class="font-medium">建議解決方案：</p> <ul class="list-disc list-inside mt-1 space-y-1"><li>檢查所有必填欄位是否已填寫</li> <li>確認專案標題不與現有專案重複</li> <li>檢查網址格式是否正確</li> <li>如果問題持續，請聯絡系統管理員</li></ul></div></div></div></div>'),$e=p('<p class="mt-1 text-sm text-red-600"> </p>'),et=p('<p class="mt-1 text-sm text-red-600"> </p>'),tt=p('<p class="mt-1 text-sm text-red-600"> </p>'),rt=p('<p class="text-xs text-gray-500 mt-1">建議尺寸：800x600 像素</p>'),at=p('<p class="mt-1 text-sm text-red-600"> </p>'),st=p('<p class="mt-1 text-sm text-red-600"> </p>'),ot=be('<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> 建立中...',1),lt=be('<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> 建立專案',1),it=p('<div class="mb-8"><div class="flex items-center space-x-4"><a href="/admin/projects" class="text-gray-600 hover:text-gray-900" title="返回專案列表" aria-label="返回專案列表"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></a> <div><h1 class="text-2xl font-bold text-gray-900">新增專案</h1> <p class="text-gray-600 mt-1">建立一個新的專案作品</p></div></div></div> <!> <form method="POST" action="?/create" class="space-y-8"><div class="bg-white rounded-lg shadow p-6"><h3 class="text-lg font-medium text-gray-900 mb-6">基本資訊</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="md:col-span-2"><label for="title" class="block text-sm font-medium text-gray-700 mb-2">專案標題 <span class="text-red-500">*</span></label> <input type="text" id="title" name="title" required placeholder="請輸入專案標題"/> <!></div> <div class="md:col-span-2"><label for="description" class="block text-sm font-medium text-gray-700 mb-2">專案描述 <span class="text-red-500">*</span></label> <textarea id="description" name="description" rows="4" required placeholder="詳細描述這個專案..."></textarea> <!></div> <div><label for="image_url" class="block text-sm font-medium text-gray-700 mb-2">專案圖片 URL</label> <input type="url" id="image_url" name="image_url" placeholder="https://example.com/project-image.jpg"/> <!></div> <div><label for="tech_stack" class="block text-sm font-medium text-gray-700 mb-2">技術棧</label> <input type="text" id="tech_stack" name="tech_stack" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="React, TypeScript, Tailwind CSS"/> <p class="text-xs text-gray-500 mt-1">使用逗號分隔多個技術</p></div></div></div> <div class="bg-white rounded-lg shadow p-6"><h3 class="text-lg font-medium text-gray-900 mb-6">連結資訊</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="github_url" class="block text-sm font-medium text-gray-700 mb-2">GitHub 連結</label> <input type="url" id="github_url" name="github_url" placeholder="https://github.com/username/project"/> <!></div> <div><label for="demo_url" class="block text-sm font-medium text-gray-700 mb-2">線上展示連結</label> <input type="url" id="demo_url" name="demo_url" placeholder="https://project-demo.vercel.app"/> <!></div></div></div> <div class="bg-white rounded-lg shadow p-6"><h3 class="text-lg font-medium text-gray-900 mb-6">專案設定</h3> <div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div><label for="status" class="block text-sm font-medium text-gray-700 mb-2">專案狀態</label> <select id="status" name="status" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option>已完成</option><option>進行中</option><option>已封存</option></select></div> <div><label for="project_type" class="block text-sm font-medium text-gray-700 mb-2">專案類型</label> <select id="project_type" name="project_type" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option>個人專案</option><option>客戶專案</option><option>開源專案</option></select></div> <div><label for="sort_order" class="block text-sm font-medium text-gray-700 mb-2">排序順序</label> <input type="number" id="sort_order" name="sort_order" min="0" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0"/> <p class="text-xs text-gray-500 mt-1">數字越小排序越前面</p></div></div> <div class="mt-6"><div class="flex items-center"><input type="checkbox" id="featured" name="featured" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"/> <label for="featured" class="ml-2 block text-sm text-gray-900">設為精選專案</label></div> <p class="text-xs text-gray-500 mt-1">精選專案會在首頁和特殊位置顯示</p></div></div> <div class="flex justify-end space-x-4"><a href="/admin/projects" class="btn-secondary">取消</a> <button type="submit" class="btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center"><!></button></div></form>',1);function bt(fe,ee){Ge(ee,!1);let s=Ne(ee,"form",8),U=ge(!1),a=ge({});function xe(r){$(a,{});const e=r.get("title"),t=r.get("description"),k=r.get("github_url"),x=r.get("demo_url"),A=r.get("image_url");e!=null&&e.trim()||C(a,o(a).title="專案標題為必填欄位"),t!=null&&t.trim()||C(a,o(a).description="專案描述為必填欄位");const w=/^https?:\/\/.+/;return k&&!w.test(k)&&C(a,o(a).github_url="請輸入有效的 GitHub URL（需以 http:// 或 https:// 開頭）"),x&&!w.test(x)&&C(a,o(a).demo_url="請輸入有效的展示 URL（需以 http:// 或 https:// 開頭）"),A&&!w.test(A)&&C(a,o(a).image_url="請輸入有效的圖片 URL（需以 http:// 或 https:// 開頭）"),Object.keys(o(a)).length===0}function he(){return $(U,!0),async({update:r})=>{$(U,!1),await r()}}function ye(r){const e=r.target,t=new FormData(e);return xe(t)?!0:(r.preventDefault(),!1)}Ye();var te=it(),re=l(Oe(te),2);{var ke=r=>{var e=De(),t=i(e),k=l(i(t),2),x=i(k),A=i(x,!0);n(x);var w=l(x,2);{var Te=D=>{var h=Ze(),j=l(i(h),2),Ae=i(j,!0);n(j),n(h),v(()=>g(Ae,(c(s()),d(()=>s().technicalError)))),u(D,h)};m(w,D=>{c(s()),d(()=>{var h,j;return((h=s())==null?void 0:h.technicalError)&&((j=s())==null?void 0:j.technicalError)!==s().error})&&D(Te)})}_(2),n(k),n(t),n(e),v(()=>g(A,(c(s()),d(()=>s().error)))),u(r,e)};m(re,r=>{c(s()),d(()=>{var e;return(e=s())==null?void 0:e.error})&&r(ke)})}var z=l(re,2),G=i(z),ae=l(i(G),2),O=i(ae),L=l(i(O),2);f(L);var we=l(L,2);{var je=r=>{var e=$e(),t=i(e,!0);n(e),v(()=>g(t,(o(a),d(()=>o(a).title)))),u(r,e)};m(we,r=>{o(a),d(()=>o(a).title)&&r(je)})}n(O);var P=l(O,2),M=l(i(P),2);Je(M);var Ce=l(M,2);{var Se=r=>{var e=et(),t=i(e,!0);n(e),v(()=>g(t,(o(a),d(()=>o(a).description)))),u(r,e)};m(Ce,r=>{o(a),d(()=>o(a).description)&&r(Se)})}n(P);var V=l(P,2),R=l(i(V),2);f(R);var Ue=l(R,2);{var ze=r=>{var e=tt(),t=i(e,!0);n(e),v(()=>g(t,(o(a),d(()=>o(a).image_url)))),u(r,e)},Le=r=>{var e=rt();u(r,e)};m(Ue,r=>{o(a),d(()=>o(a).image_url)?r(ze):r(Le,!1)})}n(V);var se=l(V,2),oe=l(i(se),2);f(oe),_(2),n(se),n(ae),n(G);var I=l(G,2),le=l(i(I),2),J=i(le),B=l(i(J),2);f(B);var Me=l(B,2);{var Re=r=>{var e=at(),t=i(e,!0);n(e),v(()=>g(t,(o(a),d(()=>o(a).github_url)))),u(r,e)};m(Me,r=>{o(a),d(()=>o(a).github_url)&&r(Re)})}n(J);var ie=l(J,2),E=l(i(ie),2);f(E);var Be=l(E,2);{var Ee=r=>{var e=st(),t=i(e,!0);n(e),v(()=>g(t,(o(a),d(()=>o(a).demo_url)))),u(r,e)};m(Be,r=>{o(a),d(()=>o(a).demo_url)&&r(Ee)})}n(ie),n(le),n(I);var K=l(I,2),N=l(i(K),2),Q=i(N),de=l(i(Q),2),q=i(de);q.value=q.__value="completed";var F=l(q);F.value=F.__value="in-progress";var W=l(F);W.value=W.__value="archived",n(de),n(Q);var X=l(Q,2),ne=l(i(X),2),H=i(ne);H.value=H.__value="personal";var T=l(H);T.value=T.__value="client";var Y=l(T);Y.value=Y.__value="open-source",n(ne),n(X);var ce=l(X,2),ue=l(i(ce),2);f(ue),_(2),n(ce),n(N);var pe=l(N,2),ve=i(pe),me=i(ve);f(me),_(2),n(ve),_(2),n(pe),n(K);var _e=l(K,2),Z=l(i(_e),2),qe=i(Z);{var Fe=r=>{var e=ot();_(),u(r,e)},He=r=>{var e=lt();_(),u(r,e)};m(qe,r=>{o(U)?r(Fe):r(He,!1)})}n(Z),n(_e),n(z),Qe(z,(r,e)=>{var t;return(t=We)==null?void 0:t(r,e)},()=>he),Pe(()=>Ke("submit",z,ye)),v(r=>{b(L,(c(s()),d(()=>{var e,t;return((t=(e=s())==null?void 0:e.data)==null?void 0:t.title)||""}))),S(L,1,`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o(a),d(()=>o(a).title?"border-red-300 bg-red-50":"border-gray-300")??""}`),S(M,1,`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none ${o(a),d(()=>o(a).description?"border-red-300 bg-red-50":"border-gray-300")??""}`),b(M,(c(s()),d(()=>{var e,t;return((t=(e=s())==null?void 0:e.data)==null?void 0:t.description)||""}))),b(R,(c(s()),d(()=>{var e,t;return((t=(e=s())==null?void 0:e.data)==null?void 0:t.image_url)||""}))),S(R,1,`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o(a),d(()=>o(a).image_url?"border-red-300 bg-red-50":"border-gray-300")??""}`),b(oe,r),b(B,(c(s()),d(()=>{var e,t;return((t=(e=s())==null?void 0:e.data)==null?void 0:t.github_url)||""}))),S(B,1,`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o(a),d(()=>o(a).github_url?"border-red-300 bg-red-50":"border-gray-300")??""}`),b(E,(c(s()),d(()=>{var e,t;return((t=(e=s())==null?void 0:e.data)==null?void 0:t.demo_url)||""}))),S(E,1,`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o(a),d(()=>o(a).demo_url?"border-red-300 bg-red-50":"border-gray-300")??""}`),y(q,(c(s()),d(()=>{var e,t;return((t=(e=s())==null?void 0:e.data)==null?void 0:t.status)==="completed"}))),y(F,(c(s()),d(()=>{var e,t;return((t=(e=s())==null?void 0:e.data)==null?void 0:t.status)==="in-progress"}))),y(W,(c(s()),d(()=>{var e,t;return((t=(e=s())==null?void 0:e.data)==null?void 0:t.status)==="archived"}))),y(H,(c(s()),d(()=>{var e,t;return((t=(e=s())==null?void 0:e.data)==null?void 0:t.project_type)==="personal"}))),y(T,(c(s()),d(()=>{var e,t;return((t=(e=s())==null?void 0:e.data)==null?void 0:t.project_type)==="client"}))),y(Y,(c(s()),d(()=>{var e,t;return((t=(e=s())==null?void 0:e.data)==null?void 0:t.project_type)==="open-source"}))),b(ue,(c(s()),d(()=>{var e,t;return((t=(e=s())==null?void 0:e.data)==null?void 0:t.sort_order)||0}))),Xe(me,(c(s()),d(()=>{var e,t;return((t=(e=s())==null?void 0:e.data)==null?void 0:t.featured)||!1}))),Z.disabled=o(U)},[()=>(c(s()),d(()=>{var r,e,t;return((t=(e=(r=s())==null?void 0:r.data)==null?void 0:e.tech_stack)==null?void 0:t.join(", "))||""}))],Ie),u(fe,te),Ve()}export{bt as component};
