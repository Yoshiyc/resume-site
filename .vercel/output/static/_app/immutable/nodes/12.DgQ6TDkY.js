import"../chunks/CWj6FrbW.js";import"../chunks/CyICmP6G.js";import{p as me,l as ve,a as be,g as se,j as r,f as fe,t as ee,n as u,b as f,d as ge,i as o,k as xe,u as i,e as n,m as re,s as I,r as l,o as m,v as oe}from"../chunks/B1QzbS-Z.js";import{r as ae,s as _e}from"../chunks/Dq_TzkNB.js";import{p as ye,i as te}from"../chunks/C7W3VNac.js";import{a as he,e as we}from"../chunks/Ks_EKFJL.js";import{a as c,r as p}from"../chunks/DUrMfR5j.js";import{b as ke}from"../chunks/C0ybvDGb.js";import{i as je}from"../chunks/Btm7-lYI.js";var Ce=se('<div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg"><div class="flex items-center"><svg class="w-5 h-5 text-red-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-red-800"> </p></div></div>'),ze=oe('<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> 建立中...',1),Be=oe('<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> 建立經歷',1),Me=se('<div class="mb-8"><div class="flex items-center space-x-4"><a href="/admin/experiences" class="text-gray-600 hover:text-gray-900" title="返回經歷列表" aria-label="返回經歷列表"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></a> <div><h1 class="text-2xl font-bold text-gray-900">新增工作經歷</h1> <p class="text-gray-600 mt-1">建立一個新的工作經歷</p></div></div></div> <!> <form method="POST" action="?/create" class="space-y-8"><div class="bg-white rounded-lg shadow p-6"><h3 class="text-lg font-medium text-gray-900 mb-6">基本資訊</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="company" class="block text-sm font-medium text-gray-700 mb-2">公司名稱 <span class="text-red-500">*</span></label> <input type="text" id="company" name="company" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="例如：科技公司"/></div> <div><label for="position" class="block text-sm font-medium text-gray-700 mb-2">職位 <span class="text-red-500">*</span></label> <input type="text" id="position" name="position" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="例如：全端工程師"/></div> <div><label for="location" class="block text-sm font-medium text-gray-700 mb-2">地點</label> <input type="text" id="location" name="location" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="台北市, 台灣"/></div> <div><label for="company_url" class="block text-sm font-medium text-gray-700 mb-2">公司網站</label> <input type="url" id="company_url" name="company_url" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://company.com"/></div> <div class="md:col-span-2"><label for="company_logo_url" class="block text-sm font-medium text-gray-700 mb-2">公司 Logo URL</label> <input type="url" id="company_logo_url" name="company_logo_url" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://company.com/logo.png"/></div> <div class="md:col-span-2"><label for="description" class="block text-sm font-medium text-gray-700 mb-2">工作描述</label> <textarea id="description" name="description" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none" placeholder="描述您在這個職位的工作內容和職責..."></textarea></div></div></div> <div class="bg-white rounded-lg shadow p-6"><h3 class="text-lg font-medium text-gray-900 mb-6">時間和技術</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="start_date" class="block text-sm font-medium text-gray-700 mb-2">開始日期 <span class="text-red-500">*</span></label> <input type="date" id="start_date" name="start_date" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"/></div> <div><label for="end_date" class="block text-sm font-medium text-gray-700 mb-2">結束日期</label> <input type="date" id="end_date" name="end_date" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100"/></div> <div class="md:col-span-2"><div class="flex items-center"><input type="checkbox" id="is_current" name="is_current" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"/> <label for="is_current" class="ml-2 block text-sm text-gray-900">這是我目前的職位</label></div></div> <div class="md:col-span-2"><label for="technologies" class="block text-sm font-medium text-gray-700 mb-2">使用技術</label> <input type="text" id="technologies" name="technologies" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="JavaScript, React, Node.js, PostgreSQL"/> <p class="text-xs text-gray-500 mt-1">使用逗號分隔多個技術</p></div> <div class="md:col-span-2"><label for="achievements" class="block text-sm font-medium text-gray-700 mb-2">主要成就</label> <textarea id="achievements" name="achievements" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none" placeholder="每行一個成就項目 例如： 開發了新的用戶管理系統 提升系統效能 30% 帶領 5 人團隊完成專案"></textarea> <p class="text-xs text-gray-500 mt-1">每行一個成就項目</p></div></div></div> <div class="bg-white rounded-lg shadow p-6"><h3 class="text-lg font-medium text-gray-900 mb-6">設定</h3> <div><label for="sort_order" class="block text-sm font-medium text-gray-700 mb-2">排序順序</label> <input type="number" id="sort_order" name="sort_order" min="0" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0"/> <p class="text-xs text-gray-500 mt-1">數字越小排序越前面</p></div></div> <div class="flex justify-end space-x-4"><a href="/admin/experiences" class="btn-secondary">取消</a> <button type="submit" class="btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center"><!></button></div></form>',1);function He(le,P){me(P,!1);let t=ye(P,"form",8),b=re(!1),v=re(!1);function de(){return I(b,!0),async({result:s,update:d})=>{I(b,!1),await d()}}ve(()=>u(v),()=>{if(u(v)){const s=document.getElementById("end_date");s&&(s.value="")}}),be(),je();var R=Me(),A=r(fe(R),2);{var ie=s=>{var d=Ce(),e=o(d),a=r(o(e),2),ue=o(a,!0);l(a),l(e),l(d),ee(()=>_e(ue,(n(t()),i(()=>t().error)))),f(s,d)};te(A,s=>{n(t()),i(()=>{var d;return(d=t())==null?void 0:d.error})&&s(ie)})}var g=r(A,2),x=o(g),D=r(o(x),2),_=o(D),E=r(o(_),2);p(E),l(_);var y=r(_,2),H=r(o(y),2);p(H),l(y);var h=r(y,2),J=r(o(h),2);p(J),l(h);var w=r(h,2),N=r(o(w),2);p(N),l(w);var k=r(w,2),O=r(o(k),2);p(O),l(k);var Q=r(k,2),T=r(o(Q),2);ae(T),l(Q),l(D),l(x);var j=r(x,2),U=r(o(j),2),C=o(U),V=r(o(C),2);p(V),l(C);var z=r(C,2),B=r(o(z),2);p(B),l(z);var M=r(z,2),F=o(M),G=o(F);p(G),m(2),l(F),l(M);var S=r(M,2),K=r(o(S),2);p(K),m(2),l(S);var W=r(S,2),X=r(o(W),2);ae(X),m(2),l(W),l(U),l(j);var q=r(j,2),Y=r(o(q),2),Z=r(o(Y),2);p(Z),m(2),l(Y),l(q);var $=r(q,2),L=r(o($),2),ne=o(L);{var ce=s=>{var d=ze();m(),f(s,d)},pe=s=>{var d=Be();m(),f(s,d)};te(ne,s=>{u(b)?s(ce):s(pe,!1)})}l(L),l($),l(g),he(g,(s,d)=>{var e;return(e=we)==null?void 0:e(s,d)},()=>de),ee((s,d)=>{c(E,(n(t()),i(()=>{var e,a;return((a=(e=t())==null?void 0:e.data)==null?void 0:a.company)||""}))),c(H,(n(t()),i(()=>{var e,a;return((a=(e=t())==null?void 0:e.data)==null?void 0:a.position)||""}))),c(J,(n(t()),i(()=>{var e,a;return((a=(e=t())==null?void 0:e.data)==null?void 0:a.location)||""}))),c(N,(n(t()),i(()=>{var e,a;return((a=(e=t())==null?void 0:e.data)==null?void 0:a.company_url)||""}))),c(O,(n(t()),i(()=>{var e,a;return((a=(e=t())==null?void 0:e.data)==null?void 0:a.company_logo_url)||""}))),c(T,(n(t()),i(()=>{var e,a;return((a=(e=t())==null?void 0:e.data)==null?void 0:a.description)||""}))),c(V,(n(t()),i(()=>{var e,a;return((a=(e=t())==null?void 0:e.data)==null?void 0:a.start_date)||""}))),c(B,(n(t()),i(()=>{var e,a;return((a=(e=t())==null?void 0:e.data)==null?void 0:a.end_date)||""}))),B.disabled=u(v),c(K,s),c(X,d),c(Z,(n(t()),i(()=>{var e,a;return((a=(e=t())==null?void 0:e.data)==null?void 0:a.sort_order)||0}))),L.disabled=u(b)},[()=>(n(t()),i(()=>{var s,d,e;return((e=(d=(s=t())==null?void 0:s.data)==null?void 0:d.technologies)==null?void 0:e.join(", "))||""})),()=>(n(t()),i(()=>{var s,d,e;return((e=(d=(s=t())==null?void 0:s.data)==null?void 0:d.achievements)==null?void 0:e.join(`
`))||""}))],xe),ke(G,()=>u(v),s=>I(v,s)),f(le,R),ge()}export{He as component};
