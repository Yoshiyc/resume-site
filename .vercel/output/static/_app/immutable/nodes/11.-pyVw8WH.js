import"../chunks/CWj6FrbW.js";import"../chunks/CyICmP6G.js";import{p as xe,m as D,n as t,l as oe,a as _e,g as ce,j as s,f as ye,t as le,b as x,d as he,i,k as we,u,e as p,s as _,r as n,o as b,v as pe}from"../chunks/B1QzbS-Z.js";import{r as de,s as ke}from"../chunks/Dq_TzkNB.js";import{p as ie,i as ne}from"../chunks/C7W3VNac.js";import{a as je,e as Ce}from"../chunks/Ks_EKFJL.js";import{a as m,r as v}from"../chunks/DUrMfR5j.js";import{b as ze}from"../chunks/C0ybvDGb.js";import{i as Be}from"../chunks/Btm7-lYI.js";var Me=ce('<div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg"><div class="flex items-center"><svg class="w-5 h-5 text-red-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-red-800"> </p></div></div>'),Se=pe('<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> 更新中...',1),qe=pe('<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> 更新經歷',1),Le=ce('<div class="mb-8"><div class="flex items-center space-x-4"><a href="/admin/experiences" class="text-gray-600 hover:text-gray-900" title="返回經歷列表" aria-label="返回經歷列表"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></a> <div><h1 class="text-2xl font-bold text-gray-900">編輯工作經歷</h1> <p class="text-gray-600 mt-1">修改工作經歷資訊</p></div></div></div> <!> <form method="POST" action="?/update" class="space-y-8"><div class="bg-white rounded-lg shadow p-6"><h3 class="text-lg font-medium text-gray-900 mb-6">基本資訊</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="company" class="block text-sm font-medium text-gray-700 mb-2">公司名稱 <span class="text-red-500">*</span></label> <input type="text" id="company" name="company" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="例如：科技公司"/></div> <div><label for="position" class="block text-sm font-medium text-gray-700 mb-2">職位 <span class="text-red-500">*</span></label> <input type="text" id="position" name="position" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="例如：全端工程師"/></div> <div><label for="location" class="block text-sm font-medium text-gray-700 mb-2">地點</label> <input type="text" id="location" name="location" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="台北市, 台灣"/></div> <div><label for="company_url" class="block text-sm font-medium text-gray-700 mb-2">公司網站</label> <input type="url" id="company_url" name="company_url" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://company.com"/></div> <div class="md:col-span-2"><label for="company_logo_url" class="block text-sm font-medium text-gray-700 mb-2">公司 Logo URL</label> <input type="url" id="company_logo_url" name="company_logo_url" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://company.com/logo.png"/></div> <div class="md:col-span-2"><label for="description" class="block text-sm font-medium text-gray-700 mb-2">工作描述</label> <textarea id="description" name="description" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none" placeholder="描述您在這個職位的工作內容和職責..."></textarea></div></div></div> <div class="bg-white rounded-lg shadow p-6"><h3 class="text-lg font-medium text-gray-900 mb-6">時間和技術</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="start_date" class="block text-sm font-medium text-gray-700 mb-2">開始日期 <span class="text-red-500">*</span></label> <input type="date" id="start_date" name="start_date" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"/></div> <div><label for="end_date" class="block text-sm font-medium text-gray-700 mb-2">結束日期</label> <input type="date" id="end_date" name="end_date" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100"/></div> <div class="md:col-span-2"><div class="flex items-center"><input type="checkbox" id="is_current" name="is_current" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"/> <label for="is_current" class="ml-2 block text-sm text-gray-900">這是我目前的職位</label></div></div> <div class="md:col-span-2"><label for="technologies" class="block text-sm font-medium text-gray-700 mb-2">使用技術</label> <input type="text" id="technologies" name="technologies" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="JavaScript, React, Node.js, PostgreSQL"/> <p class="text-xs text-gray-500 mt-1">使用逗號分隔多個技術</p></div> <div class="md:col-span-2"><label for="achievements" class="block text-sm font-medium text-gray-700 mb-2">主要成就</label> <textarea id="achievements" name="achievements" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none" placeholder="每行一個成就項目 例如： 開發了新的用戶管理系統 提升系統效能 30% 帶領 5 人團隊完成專案"></textarea> <p class="text-xs text-gray-500 mt-1">每行一個成就項目</p></div></div></div> <div class="bg-white rounded-lg shadow p-6"><h3 class="text-lg font-medium text-gray-900 mb-6">設定</h3> <div><label for="sort_order" class="block text-sm font-medium text-gray-700 mb-2">排序順序</label> <input type="number" id="sort_order" name="sort_order" min="0" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0"/> <p class="text-xs text-gray-500 mt-1">數字越小排序越前面</p></div></div> <div class="flex justify-end space-x-4"><a href="/admin/experiences" class="btn-secondary">取消</a> <button type="submit" class="btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center"><!></button></div></form>',1);function Oe(ue,y){var se;xe(y,!1);const d=D();let E=ie(y,"data",8),l=ie(y,"form",8),g=D(!1),f=D(((se=t(d))==null?void 0:se.is_current)||!1);function me(){return _(g,!0),async({result:o,update:c})=>{_(g,!1),await c()}}oe(()=>(t(d),p(E())),()=>{(o=>{_(d,o.experience)})(E())}),oe(()=>t(f),()=>{if(t(f)){const o=document.getElementById("end_date");o&&(o.value="")}}),_e(),Be();var H=Le(),J=s(ye(H),2);{var ve=o=>{var c=Me(),e=i(c),r=s(i(e),2),a=i(r,!0);n(r),n(e),n(c),le(()=>ke(a,(p(l()),u(()=>l().error)))),x(o,c)};ne(J,o=>{p(l()),u(()=>{var c;return(c=l())==null?void 0:c.error})&&o(ve)})}var h=s(J,2),w=i(h),N=s(i(w),2),k=i(N),O=s(i(k),2);v(O),n(k);var j=s(k,2),Q=s(i(j),2);v(Q),n(j);var C=s(j,2),T=s(i(C),2);v(T),n(C);var z=s(C,2),U=s(i(z),2);v(U),n(z);var B=s(z,2),V=s(i(B),2);v(V),n(B);var F=s(B,2),G=s(i(F),2);de(G),n(F),n(N),n(w);var M=s(w,2),K=s(i(M),2),S=i(K),W=s(i(S),2);v(W),n(S);var q=s(S,2),L=s(i(q),2);v(L),n(q);var I=s(q,2),X=i(I),Y=i(X);v(Y),b(2),n(X),n(I);var P=s(I,2),Z=s(i(P),2);v(Z),b(2),n(P);var $=s(P,2),ee=s(i($),2);de(ee),b(2),n($),n(K),n(M);var R=s(M,2),re=s(i(R),2),ae=s(i(re),2);v(ae),b(2),n(re),n(R);var te=s(R,2),A=s(i(te),2),be=i(A);{var fe=o=>{var c=Se();b(),x(o,c)},ge=o=>{var c=qe();b(),x(o,c)};ne(be,o=>{t(g)?o(fe):o(ge,!1)})}n(A),n(te),n(h),je(h,(o,c)=>{var e;return(e=Ce)==null?void 0:e(o,c)},()=>me),le((o,c)=>{m(O,(p(l()),t(d),u(()=>{var e,r,a;return((r=(e=l())==null?void 0:e.data)==null?void 0:r.company)||((a=t(d))==null?void 0:a.company)||""}))),m(Q,(p(l()),t(d),u(()=>{var e,r,a;return((r=(e=l())==null?void 0:e.data)==null?void 0:r.position)||((a=t(d))==null?void 0:a.position)||""}))),m(T,(p(l()),t(d),u(()=>{var e,r,a;return((r=(e=l())==null?void 0:e.data)==null?void 0:r.location)||((a=t(d))==null?void 0:a.location)||""}))),m(U,(p(l()),t(d),u(()=>{var e,r,a;return((r=(e=l())==null?void 0:e.data)==null?void 0:r.company_url)||((a=t(d))==null?void 0:a.company_url)||""}))),m(V,(p(l()),t(d),u(()=>{var e,r,a;return((r=(e=l())==null?void 0:e.data)==null?void 0:r.company_logo_url)||((a=t(d))==null?void 0:a.company_logo_url)||""}))),m(G,(p(l()),t(d),u(()=>{var e,r,a;return((r=(e=l())==null?void 0:e.data)==null?void 0:r.description)||((a=t(d))==null?void 0:a.description)||""}))),m(W,(p(l()),t(d),u(()=>{var e,r,a;return((r=(e=l())==null?void 0:e.data)==null?void 0:r.start_date)||((a=t(d))==null?void 0:a.start_date)||""}))),m(L,(p(l()),t(d),u(()=>{var e,r,a;return((r=(e=l())==null?void 0:e.data)==null?void 0:r.end_date)||((a=t(d))==null?void 0:a.end_date)||""}))),L.disabled=t(f),m(Z,o),m(ee,c),m(ae,(p(l()),t(d),u(()=>{var e,r,a;return((r=(e=l())==null?void 0:e.data)==null?void 0:r.sort_order)||((a=t(d))==null?void 0:a.sort_order)||0}))),A.disabled=t(g)},[()=>(p(l()),t(d),u(()=>{var o,c,e,r,a;return((e=(c=(o=l())==null?void 0:o.data)==null?void 0:c.technologies)==null?void 0:e.join(", "))||((a=(r=t(d))==null?void 0:r.technologies)==null?void 0:a.join(", "))||""})),()=>(p(l()),t(d),u(()=>{var o,c,e,r,a;return((e=(c=(o=l())==null?void 0:o.data)==null?void 0:c.achievements)==null?void 0:e.join(`
`))||((a=(r=t(d))==null?void 0:r.achievements)==null?void 0:a.join(`
`))||""}))],we),ze(Y,()=>t(f),o=>_(f,o)),x(ue,H),he()}export{Oe as component};
