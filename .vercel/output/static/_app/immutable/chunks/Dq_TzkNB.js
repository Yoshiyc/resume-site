import{x as T,E as A,Y as H,aM as L,aN as S,S as R,an as I,aO as z,V as $,al as j,a4 as x,aP as m,L as k,ay as F,a2 as J,aQ as O,J as w,D as P,F as K,K as v,M as Q,aR as U,aS as G,R as X,aT as Z,B as ee,O as te,aU as re,p as ae,ab as ne,ak as se,d as ie,aV as E,u as oe,ai as ue}from"./B1QzbS-Z.js";const ce=["touchstart","touchmove"];function fe(e){return ce.includes(e)}function ve(e){T&&A(e)!==null&&H(e)}let V=!1;function le(){V||(V=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Y(e){var t=I,r=R;L(null),S(null);try{return e()}finally{L(t),S(r)}}function ge(e,t,r,n=r){e.addEventListener(t,()=>Y(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),le()}const _e=new Set,q=new Set;function de(e,t,r,n={}){function s(a){if(n.capture||g.call(t,a),!a.cancelBubble)return Y(()=>r==null?void 0:r.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?x(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function ye(e,t,r,n,s){var a={capture:n,passive:s},f=de(e,t,r,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&j(()=>{t.removeEventListener(e,f,a)})}function g(e){var D;var t=this,r=t.ownerDocument,n=e.type,s=((D=e.composedPath)==null?void 0:D.call(e))||[],a=s[0]||e.target,f=0,u=e.__root;if(u){var l=s.indexOf(u);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var i=s.indexOf(t);if(i===-1)return;l<=i&&(f=l)}if(a=s[f]||e.target,a!==t){z(e,"currentTarget",{configurable:!0,get(){return a||r}});var N=I,_=R;L(null),S(null);try{for(var o,c=[];a!==null;){var d=a.assignedSlot||a.parentNode||a.host||null;try{var h=a["__"+n];if(h!=null&&(!a.disabled||e.target===a))if($(h)){var[C,...W]=h;C.apply(a,[e,...W])}else h.call(a,e)}catch(y){o?c.push(y):o=y}if(e.cancelBubble||d===t||d===null)break;a=d}if(o){for(let y of c)queueMicrotask(()=>{throw y});throw o}}finally{e.__root=t,delete e.currentTarget,L(N),S(_)}}}function we(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function he(e,t){return B(e,t)}function Ee(e,t){m(),t.intro=t.intro??!1;const r=t.target,n=T,s=v;try{for(var a=A(r);a&&(a.nodeType!==k||a.data!==F);)a=J(a);if(!a)throw O;w(!0),P(a),K();const f=B(e,{...t,anchor:a});if(v===null||v.nodeType!==k||v.data!==Q)throw U(),O;return w(!1),f}catch(f){if(f===O)return t.recover===!1&&G(),m(),H(r),w(!1),he(e,t);throw f}finally{w(n),P(s),re()}}const b=new Map;function B(e,{target:t,anchor:r,props:n={},events:s,context:a,intro:f=!0}){m();var u=new Set,l=_=>{for(var o=0;o<_.length;o++){var c=_[o];if(!u.has(c)){u.add(c);var d=fe(c);t.addEventListener(c,g,{passive:d});var h=b.get(c);h===void 0?(document.addEventListener(c,g,{passive:d}),b.set(c,1)):b.set(c,h+1)}}};l(X(_e)),q.add(l);var i=void 0,N=Z(()=>{var _=r??t.appendChild(ee());return te(()=>{if(a){ae({});var o=ne;o.c=a}s&&(n.$$events=s),T&&se(_,null),i=e(_,n)||{},T&&(R.nodes_end=v),a&&ie()}),()=>{var d;for(var o of u){t.removeEventListener(o,g);var c=b.get(o);--c===0?(document.removeEventListener(o,g),b.delete(o)):b.set(o,c)}q.delete(l),_!==r&&((d=_.parentNode)==null||d.removeChild(_))}});return M.set(i,N),i}let M=new WeakMap;function Te(e,t){const r=M.get(e);return r?(M.delete(e),r(t)):Promise.resolve()}function be(e,t,r){if(e==null)return t(void 0),E;const n=oe(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const p=[];function Le(e,t=E){let r=null;const n=new Set;function s(u){if(ue(e,u)&&(e=u,r)){const l=!p.length;for(const i of n)i[1](),p.push(i,e);if(l){for(let i=0;i<p.length;i+=2)p[i][0](p[i+1]);p.length=0}}}function a(u){s(u(e))}function f(u,l=E){const i=[u,l];return n.add(i),n.size===1&&(r=t(s,a)||E),u(e),()=>{n.delete(i),n.size===0&&r&&(r(),r=null)}}return{set:s,update:a,subscribe:f}}function Se(e){let t;return be(e,r=>t=r)(),t}export{le as a,be as b,ye as e,Se as g,Ee as h,ge as l,he as m,ve as r,we as s,Te as u,Le as w};
