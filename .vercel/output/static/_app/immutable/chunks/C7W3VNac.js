import{C as h,x as P,F as Y,ax as B,G as C,ay as F,H,I as U,D as q,J as O,N as m,O as D,P as N,az as G,K as M,aA as z,aB as J,n as g,aC as K,s as Z,aD as $,S as w,aE as j,k as y,aq as Q,aF as V,aG as W,aH as X,aI as k,ag as p,u as x,aJ as aa,aK as ea,aL as ra}from"./B1QzbS-Z.js";import{c as na}from"./3F4hO56p.js";function fa(r,i,[t,a]=[0,0]){P&&t===0&&Y();var n=r,f=null,c=null,s=G,S=t>0?B:0,I=!1;const v=(u,l=!0)=>{I=!0,T(l,u)},T=(u,l)=>{if(s===(s=u))return;let _=!1;if(P&&a!==-1){if(t===0){const d=C(n);d===F?a=0:d===H?a=1/0:(a=parseInt(d.substring(1)),a!==a&&(a=s?1/0:-1))}const E=a>t;!!s===E&&(n=U(),q(n),O(!1),_=!0,a=-1)}s?(f?m(f):l&&(f=D(()=>l(n))),c&&N(c,()=>{c=null})):(c?m(c):l&&(c=D(()=>l(n,[t+1,a]))),f&&N(f,()=>{f=null})),_&&O(!0)};h(()=>{I=!1,i(v),I||T(null,null)},S),P&&(n=M)}function ia(r,i,t,a){var R;var n=!Q||(t&V)!==0,f=(t&W)!==0,c=(t&ra)!==0,s=a,S=!0,I=()=>(S&&(S=!1,s=c?x(a):a),s),v;if(f){var T=X in r||k in r;v=((R=z(r,i))==null?void 0:R.set)??(T&&i in r?e=>r[i]=e:void 0)}var u,l=!1;f?[u,l]=na(()=>r[i]):u=r[i],u===void 0&&a!==void 0&&(u=I(),v&&(n&&aa(),v(u)));var _;if(n?_=()=>{var e=r[i];return e===void 0?I():(S=!0,e)}:_=()=>{var e=r[i];return e!==void 0&&(s=void 0),e===void 0?s:e},n&&!(t&J))return _;if(v){var E=r.$$legacy;return function(e,A){return arguments.length>0?((!n||!A||E||l)&&v(A?_():e),e):_()}}var d=!1,o=(t&ea?p:y)(()=>(d=!1,_()));f&&g(o);var L=w;return function(e,A){if(arguments.length>0){const b=A?g(o):n&&f?K(e):e;return Z(o,b),d=!0,s!==void 0&&(s=b),e}return $&&d||L.f&j?o.v:g(o)}}export{fa as i,ia as p};
